define("pageLayout/currency",["jquery","ccConstants","ccRestClient"],function(e,n,r){"use strict";function c(){if(c.singleInstance)throw new Error("Cannot instantiate more than one CurrencyViewModel, use getInstance()");var i=this;return i.siteCurrenciesLoaded=e.Deferred(),i.availableCurrencies=[],i.currencyMap={},i.setAvailableCurrencies=function(){i.availableCurrencies.forEach(function(e){i.currencyMap[e.currencyCode]=e}),i.siteCurrenciesLoaded.resolve()},i.fetchCurrenciesSuccess=function(e){e?i.availableCurrencies=e.items:i.availableCurrencies=[],i.setAvailableCurrencies()},i.fetchCurrenciesFailure=function(){console.log("currencies loading failed")},i.fetchCurrencies=function(){var e=n.ENDPOINT_CURRENCIES_LIST_CURRENCIES,c={};r.request(e,c,i.fetchCurrenciesSuccess,i.fetchCurrenciesFailure)}(),this}return c.getInstance=function(){return c.singleInstance||(c.singleInstance=new c),c.singleInstance},c});
//# sourceMappingURL=currency.js.map