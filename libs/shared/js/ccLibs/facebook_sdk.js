define("facebookjs",["jquery","knockout","pubsub","facebook","ccConstants","ccRestClient","pageLayout/space"],function(e,t,i,p,o,a,c){"use strict";function n(){var e=this;e.isInitialized=t.observable(!1),e.siteFbAppId=t.observable("")}n.prototype.init=function(e){var t=this;t.isInitialized()||(t.isInitialized(!0),t.fetchFacebookAppId(e))},n.prototype.fetchFacebookAppId=function(e){var t=this,i=o.EXTERNALDATA_PRODUCTION_FACEBOOK;e&&(i=o.EXTERNALDATA_PREVIEW_FACEBOOK),a.request(o.ENDPOINT_MERCHANT_GET_EXTERNALDATA,null,t.fetchFacebookAppIdSuccessHandler.bind(t),t.fetchFacebookAppIdErrorHandler.bind(t),i)},n.prototype.fetchFacebookAppIdSuccessHandler=function(t){var p=this;if(t.serviceData.applicationId){p.siteFbAppId(t.serviceData.applicationId),FB.init({appId:p.siteFbAppId(),status:!0,xfbml:!0,version:"v2.2"});var o=c.getInstance();o.updateSpace({fbAppId:p.siteFbAppId()}),e.Topic(i.topicNames.SOCIAL_FACEBOOK_JS_READY).publish({})}},n.prototype.fetchFacebookAppIdErrorHandler=function(e){};var s=new n;return s});
//# sourceMappingURL=facebook_sdk.js.map