define(["swmRestClientConstructor","ccRestClient","ccLogger","pubsub","jquery","ccConstants","storageApi"],function(e,o,r,t,s,a,c){"use strict";var i=function(e){},n=function(e,o){try{var a=JSON.parse(e);if(a.error&&a.status)switch(a.status){case"400.12":s.Topic(t.topicNames.SOCIAL_SPACE_UNAVAILABLE).publish({reason:"ccsync_failed"});break;default:s.Topic(t.topicNames.SOCIAL_SPACE_UNAVAILABLE).publish({reason:"config"})}else 401===a.status?(s.Topic(t.topicNames.SOCIAL_SPACE_UNAVAILABLE).publish({reason:"unauthorized"}),"401.99"===a["o:errorCode"]&&s.Topic(t.topicNames.SOCIAL_REFRESH_SPACES).publish({})):"403.1"!==a["o:errorCode"]&&"403.2"!==a["o:errorCode"]||c.getInstance().removeItem("social.currentSpaceId")}catch(e){r.warn("swm error occurred, response code: "+o),s.Topic(t.topicNames.SOCIAL_SPACE_UNAVAILABLE).publish({})}},A=new e(i,n);if(window.externalServiceData){var p=window.externalServiceData.social.scheme+"://"+window.externalServiceData.social.host;"0"!=window.externalServiceData.social.port&&(p+=":"+window.externalServiceData.social.port),A.setSWMHost(p)}return A});
//# sourceMappingURL=swm-storefront-rest-client.js.map