define("ccKoValidateRules",["knockout","jqueryui","koValidate","ccPasswordValidator"],function(e,r,t,a){"use strict";e.validation.rules.creditcard={validator:function(r,t){if(!t)return!1;if(!(t.iin&&t.length&&e.isObservable(t.iin)&&e.isObservable(t.length)))return!1;var a=t.iin(),i=t.length();if(!a||!i||""===a||""===i)return!1;if(!r||""===r)return"0"===i;var n=r,s=new RegExp("^("+a+")");if(!n.match(s))return!1;for(var o=i.split("|"),l="",u=0;u<o.length;u++)0!==u&&(l+="|"),l+="^[0-9]{"+o[u]+"}$";var d=new RegExp(l);if(!n.match(d))return!1;var v=function(e){for(var r=0,t=e.length,a=1;a<=t;a++){var i=parseInt(e[t-a],10);a%2==0&&(i*=2,i>9&&(i-=9)),r+=i}return r%10==0};return!!v(n)},message:"Card Number is invalid."},e.validation.rules.cvv={validator:function(r,t){if(!t)return!1;var a=0;if(a=e.isObservable(t)?t():t,a=parseInt(a,10),!r||""===r)return 0===a;var i=new RegExp("^[0-9]{"+a+"}$");return!!r.match(i)},message:"Card CVV is invalid."};var i=e.observable(!0),n=e.observable(!0);e.validation.rules.startmonth={validator:function(r,t){if(!t||!e.isObservable(t))return!1;if(!r||""===r)return!0;var a=r,n=new RegExp("^((0[1-9])|(1[0-2]))$");if(!a.match(n))return!1;if(!t())return!0;var s=new Date,o=s.getUTCFullYear(),l=s.getUTCMonth();return parseInt(t(),10)===o&&parseInt(a,10)>++l?(i(!1),!1):(i(!0),!0)},message:"Start Month is invalid."},e.validation.rules.startyear={validator:function(e){return!e||""===e||i()},message:"Start Year is invalid."},e.validation.rules.importFileName={validator:function(e){var r=[".csv"];return new RegExp("("+r.join("|").replace(/\./g,"\\.")+")$").test(e)},message:"invalid file extension."},e.validation.rules.mediaZipFileName={validator:function(e){var r=[".zip"];return new RegExp("("+r.join("|").replace(/\./g,"\\.")+")$").test(e)}},e.validation.rules.endmonth={validator:function(e,r){if(!e||""===e)return!0;var t=e,a=new RegExp("^((0[1-9])|(1[0-2]))$");if(!t.match(a))return!1;if(!r)return!0;var i=new Date,s=i.getUTCFullYear(),o=i.getUTCMonth();return parseInt(r,10)===s&&parseInt(t,10)<++o?(n(!1),!1):(n(!0),!0)},message:"End Month is invalid."},e.validation.rules.endyear={validator:function(e){return!e||""===e||n()},message:"End Year is invalid."},e.validation.rules.observablePattern={validator:function(r,t){if(!t)return!1;var a="";if(a=e.isObservable(t)?t():t,!a||""===a)return!1;if(!r||""===r)return!0;var i=new RegExp(a);return!!r.match(i)},message:"Observable Pattern Match Failed."},e.validation.rules.alphaNumeric={validator:function(e){return!e||e.match(/^[A-Za-z0-9(\s)]+$/)},message:"Field may only contain alphanumeric characters"},e.validation.rules.bool={validator:function(e){return e===!0||!e},message:"Value must be true or false"},e.validation.rules.alphaNumericWithSeperators={validator:function(e){return!e||e.match(/^[A-Za-z0-9_\-\s]+$/)},message:"Field may only contain alphanumeric characters and -, spaces, or _"},e.validation.rules.alphaNumericNoSpacesWithSeperators={validator:function(e){return!e||e.match(/^[A-Za-z0-9_\-]+$/)},message:"Field may only contain alphanumeric characters and - or _"},e.validation.rules.restrictSlashCharacters={validator:function(e){return!e||!e.match(/[\/\\]+/)},message:"Field may not contain forwardslash or backslash."},e.validation.rules.alphaNumericNoSpaces={validator:function(e){return!e||e.match(/^[A-Za-z0-9]+$/)},message:"Field may only contain alphanumeric characters and no spaces"},e.validation.rules.cartPicker={validator:function(e){if(!e)return!0;var r,t=e.length;for(r=0;r<t;r++){var a=parseInt(e[r].quantity,10);if(""!=e[r].productId){if(isNaN(a)||a<=0||a>=100)return!1}else if(""!=e[r].quantity)return!1}var i=0,n=[],s={};for(r=0;r<t;r++)""!=e[r].productId&&(s[e[r].productId]=0,i+=1);for(r in s)n.push(r);return!(i>n.length)},message:"Please ensure each item has a quantity specified"},e.validation.rules.cartPickerUniqueProducts={validator:function(e){if(!e)return!0;var r,t=e.length,a=0,i=[],n={};for(r=0;r<t;r++)""!=e[r].productId&&(n[e[r].productId]=0,a+=1);for(r in n)i.push(r);return!(a>i.length)},message:"Please ensure there are no Duplicate product IDs"},e.validation.rules.price={validator:function(e,r){return!r||(null===e||"undefined"==typeof e||""===e||/^\d*\.?\d+$/.test(e))},message:"Please enter a valid price"},e.validation.rules.laterDate={validator:function(e,r){var t,a,i;return!!e&&(t=new Date(e),a=new Date,i=a-t,i<0)},message:"Please enter a proper date"},e.validation.rules.url={validator:function(e,r){if("boolean"==typeof r&&!r)return!0;if(r instanceof Object&&r.validate&&r.validate===!1)return!0;var t=!1;r instanceof Object&&r.protocolOptional&&(t=r.protocolOptional);var a=/^(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!-\/]))?$/,i=/^(ftp|http|https)?:\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!-\/]))?$/;if(e){for(var n=e.split("\n"),s=[],o=0;o<n.length;o++)for(var l=n[o].split(","),u=0;u<l.length;u++)s.push(l[u]);for(var d=/^(ftp|http|https):\/\//,v=/:\/\//,f=0;f<s.length;f++)if(!t||v.test(s[f].trim())||d.test(s[f].trim())){if(!i.test(s[f].trim()))return!1}else if(!a.test(s[f].trim()))return!1;return!0}return!0},message:"Please enter a valid URL"},e.validation.rules.absoluteOrRelativeURL={validator:function(e,r){if(!r)return!0;var t=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))?\.?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i,a=/^\/\S*$/i;return!e||!(!t.test(e)&&!a.test(e))},message:"Please enter a valid URL"},e.validation.rules.number={validator:function(e,r){return!r||(null===e||"undefined"==typeof e||""===e||r&&/^-?\d*\.?\d+$/.test(e))},message:"Please enter a number"},e.validation.rules.match={getValue:function(e){return"function"==typeof e?e():e},validator:function(e,r){return e===this.getValue(r)},message:"Values must match"},e.validation.rules.propertyIdAlreadyInUse={validator:function(e,r){var t;if(r&&e&&r.createProperty()&&r.existingPropertyids())for(var a=(r.existingPropertyids,0),i=r.existingPropertyids().length;a<i;++a)if(r.existingPropertyids()[a]&&(t=r.existingPropertyids()[a].id,t&&e.toLowerCase()===t.toLowerCase()))return!1;return!0},message:"Property Id is already in use"},e.validation.rules.propertyNameAlreadyInUse={validator:function(e,r){var t;if(r&&e&&r.existingPropertyName())for(var a=(r.existingPropertyName,0),i=r.existingPropertyName().length;a<i;++a)if(r.existingPropertyName()[a]&&(t=r.existingPropertyName()[a].displayName))if(r.createProperty()){if(e.toLowerCase()===t.toLowerCase())return!1}else if(""!=r.prevPropertyName()&&null!=r.prevPropertyName()&&e.toLowerCase()!==r.prevPropertyName().toLowerCase()&&e.toLowerCase()===t.toLowerCase())return!1;return!0},message:"Property Name is already in use"},e.validation.rules.password={validator:function(r,t){var i=t.login(),n=t.policies(),s=t.observable,o=t.includePreviousNPasswordRule(),l=a.validate(r,i,n,o);return s.embeddedAssistance=e.observable(a.embeddedAssistance),l},message:"The password entered does not comply with the password policy"},e.validation.rules.uniqueTrimmed={validator:function(r,t){return e.validation.rules.unique.validator(r.trim(),t)}},e.validation.rules.uniqueTrimmedCaseInsensitive={validator:function(r,t){return!r||e.validation.rules.uniqueTrimmed.validator(r.toLowerCase(),t)}},e.validation.rules.maxItemQuantity={validator:function(e,r){if(r&&e){if(r.orderableQuantity&&r.totalQuantity&&r.totalQuantity(!0)>r.orderableQuantity)return!1;if(r.orderLimit&&r.orderLimit<r.totalQuantity(!1))return!1;if("number"==typeof r&&e>r)return!1;if(r.childItems)for(var t=0;t<r.childItems.length;t++){var a=r.childItems[t].productId;if(r.totalQuantity&&r.totalQuantity(!1,a)>r.childItems[t].orderableQuantity)return!1}}return!0}},e.validation.registerExtenders()});
//# sourceMappingURL=cc-ko-validate-rules.js.map