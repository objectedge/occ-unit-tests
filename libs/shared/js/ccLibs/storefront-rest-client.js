define(["ccRestClientConstructor","ccConstants","pubsub","ccStoreConfiguration"],function(i,n,e,t){"use strict";var o=function(i,t){(0==t||t<100||t>600)&&!i&&$.Topic(e.topicNames.USER_NETWORK_ERROR).publish([{message:"failure"}]),t==n.HTTP_UNAUTHORIZED_ERROR&&$.Topic(e.topicNames.USER_SESSION_EXPIRED).publish()},w=window.CCStorefrontPreviewMode===!0?n.PROFILE_TYPE_LAYOUT_PREVIEW:n.PROFILE_TYPE_STOREFRONT,c=new i(w,o);c.allowSiteSwitchingOnProduction=t.getInstance().allowSiteSwitchingOnProduction(),t.getInstance().allowSiteSwitchingOnProduction.subscribe(function(){c.allowSiteSwitchingOnProduction=t.getInstance().allowSiteSwitchingOnProduction()}),window.endpointRegistry?c.init(!0,!window.isPreviewMode,window.endpointRegistry):c.init(!1,!window.isPreviewMode);try{delete window.isPreviewMode,delete window.endpointRegistry}catch(i){window.isPreviewMode=void 0,window.endpointRegistry=void 0}return c});
//# sourceMappingURL=storefront-rest-client.js.map