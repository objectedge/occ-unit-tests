define("ccStoreServerLogger",["knockout","pubsub","jquery","ccRestClient","ccConstants","storageApi","pageViewTracker"],function(e,r,n,t,o,a,i){"use strict";function u(){if(u.singleInstance)throw new Error("Cannot instantiate more than one CCStoreServerLogger. Use getInstance() method");var e=this;e.loggingEnabled=!0;var g="",c="",l=[],d=[],f=["debug","info","warning","error"],_={getPage:"0001",paymentTimeOut:"0002",createOrderFailure:"0003",updateOrderFailure:"0004",paymentGroupFailure:"0005",orderSubmissionFailure:"0006"},p={getPage:"Landed on __pageId__ page",paymentTimeOut:"Unable to Authorize payment due to time-out, while placing order for order ID __orderId__",createOrderFailure:"Unable to create order due to error code __errorCode__",updateOrderFailure:"Unable to update the order with order ID __orderId__ due to error code __errorCode__",paymentGroupFailure:"Unable to place order for order ID __orderId__ as the payment state is found to be __paymentState__ for the payment group ID __paymentGroupId__",orderSubmissionFailure:"Order Submission Failed for order with order ID __orderId__"},I={error:"[ERROR]",warning:"[WARN]",info:"[INFO]",debug:"[DEBUG]"},v=function(e){try{a.getInstance().setItem("logLevel",e)}catch(e){}},L=function(){var e=null;try{e=a.getInstance().getItem("logLevel")}catch(e){}return e},h=function(e){var r=[];switch(e){case"debug":r.push("debug");case"info":r.push("info");case"warning":r.push("warning");case"error":r.push("error");break;default:r=l}return r};e.setDefaultLogLevel=function(){"info"!=g&&(g="info",l=h(g),v(g))},e.setLogLevel=function(e){f.indexOf(e.toLowerCase())>-1&&g!=e.toLowerCase()&&(g=e.toLowerCase(),l=h(g),v(e))},L()?(g=L().toLowerCase(),l=h(g)):e.setDefaultLogLevel();var m=function(e){try{a.getInstance().setItem("pageIdListToLog",e)}catch(e){}},b=function(){var e=null;try{e=a.getInstance().getItem("pageIdListToLog"),e=e.split(",")}catch(e){}return e};if(e.setPagesToLog=function(e){null!=e&&(d=e,m(d))},e.addPageIdToLog=function(e){d.indexOf(e)<0&&(d.push(e),m(d))},e.disablePageIdToLog=function(e){var r=this;null!=e&&d.indexOf(e)>-1&&(d.splice(d.indexOf(e),1),r.setPagesToLog(d))},b())d=b();else{var O=["checkout","payment","confirmation"];e.setPagesToLog(O)}var w=function(e,r){var n={},a=function(e){},i=function(e){};null!=r&&null!=e&&(n={logLevel:e,messages:r},t.request(o.ENDPOINT_LOGS_CREATE_LOG,n,a,i))},y=function(e,r,n){var t=I[n];if(null!=t){var o=i.getVisitorId(),a=i.getVisitId(),u=e+"-"+t+" "+r+", "+a+", "+o,s={LogData:u},g=[];g.push(s),w(n,g)}},T=function(e,r,n,t,o){o.loggingEnabled&&l.indexOf(r)>-1&&d.indexOf(c)>-1&&null!=n&&(null!=e&&""!=e||(e=s),null==t&&(t=_[e],null==t&&(t=e)),y(t,n,r))};e.logInfo=function(e,r,n){var t=this,o="info";T(e,o,r,n,t)},e.logWarning=function(e,r,n){var t=this,o="warning";T(e,o,r,n,t)},e.logDebug=function(e,r,n){var t=this,o="debug";T(e,o,r,n,t)},e.logError=function(e,r,n){var t=this,o="error";T(e,o,r,n,t)},e.getMessage=function(e,r){var n="";if(null!=e){var t=p[e];if(null!=t)for(var o=0;o<Object.keys(r).length;o++)n=Object.keys(r)[o],t=t.replace("__"+n+"__",r[n])}return t};var D=function(e,r){c=r.pageId};n.Topic(r.topicNames.PAGE_LAYOUT_LOADED).subscribe(D)}var s="UnstatedEvent";return u.getInstance=function(){return u.singleInstance||(u.singleInstance=new u),u.singleInstance},u});
//# sourceMappingURL=cc-store-server-logger-1.0.js.map