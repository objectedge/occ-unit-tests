define("pageViewTracker",["knockout","ccRestClient","ccConstants","storageApi"],function(i,t,e,s){"use strict";function n(t){var e=this;e.pageViews=i.observable(t)}function a(){var a=this;return this.tenantId=i.observable(),this.visitId=i.observable(),this.visitorId=i.observable(),this.visitDetailsChanged=i.observable(!1),a.createPageViewEvent=function(i){var t=new n(i);return t},a.getVisitorId=function(){return s.getInstance().getItem(e.VISITOR_ID)},a.getVisitId=function(){return s.getInstance().getItem(e.VISIT_ID)},a.handleVisitDetails=function(){var i=this;if(i.visitorId||i.visitId){var t=i.getVisitorId(),e=i.getVisitId();t&&t==i.visitorId()||(i.visitorId(t),i.visitDetailsChanged(!0)),e&&e==i.visitId()||(i.visitId(e),i.visitDetailsChanged(!0)),i.visitDetailsChanged()&&(i.persistVisitDetails(i.visitorId(),i.visitId()),i.visitDetailsChanged(!1))}},a.persistVisitDetails=function(i,s){var n={};n[e.VISITOR_ID]=i,n[e.VISIT_ID]=s;var a=e.ENDPOINT_SAVE_VISIT_DETAILS,r=function(i){},I=function(i){};t.request(a,n,r,I)},a.recordPageChange=function(i){var s={pageViews:i.pageViews()},n=e.ENDPOINT_RECORD_PAGEVIEWS_COUNT,a=function(i){},r=function(i){};t.request(n,s,a,r)},a}return new a});
//# sourceMappingURL=pageViewTracker-1.0.js.map